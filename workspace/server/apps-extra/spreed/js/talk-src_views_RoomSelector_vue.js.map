{"version":3,"file":"talk-src_views_RoomSelector_vue.js?v=17cee044ae7ed6e6b381","mappings":"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","sources":["webpack:///talk/src/components/ConversationIcon.vue","webpack:///talk/src/views/RoomSelector.vue","webpack://talk/./src/components/ConversationIcon.vue?f0f3","webpack://talk/./src/views/RoomSelector.vue?0e5d","webpack:///talk/src/constants.js","webpack:///talk/src/utils/isDarkTheme.js","webpack:///talk/src/components/ConversationIcon.vue?vue&type=style&index=0&id=8a130df0&prod&lang=scss&scoped=true&","webpack:///talk/src/views/RoomSelector.vue?vue&type=style&index=0&id=7fef084f&prod&lang=scss&scoped=true&","webpack://talk/./src/components/ConversationIcon.vue?bbb6","webpack://talk/./src/views/RoomSelector.vue?23fe","webpack://talk/./src/components/ConversationIcon.vue?9723","webpack://talk/./src/views/RoomSelector.vue?3fe4","webpack:///talk/src/components/ConversationIcon.vue?vue&type=script&lang=js&","webpack:///talk/src/views/RoomSelector.vue?vue&type=script&lang=js&"],"sourcesContent":["<!--\n  - @copyright Copyright (c) 2019 Joas Schilling <coding@schilljs.com>\n  -\n  - @author Joas Schilling <coding@schilljs.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n-->\n\n<template>\n\t<div ref=\"conversation-icon\"\n\t\tclass=\"conversation-icon\"\n\t\t:style=\"{'--icon-size': `${size}px`}\"\n\t\t:class=\"{'offline': offline}\">\n\t\t<div v-if=\"iconClass\"\n\t\t\tclass=\"avatar icon\"\n\t\t\t:class=\"iconClass\" />\n\t\t<NcAvatar v-else-if=\"!isOneToOne\"\n\t\t\t:url=\"avatarUrl\"\n\t\t\t:size=\"size\" />\n\t\t<NcAvatar v-else\n\t\t\t:size=\"size\"\n\t\t\t:user=\"item.name\"\n\t\t\t:disable-menu=\"disableMenu\"\n\t\t\t:display-name=\"item.displayName\"\n\t\t\t:preloaded-user-status=\"preloadedUserStatus\"\n\t\t\t:show-user-status=\"showUserStatus\"\n\t\t\t:show-user-status-compact=\"disableMenu\"\n\t\t\t:menu-container=\"menuContainer\"\n\t\t\tmenu-position=\"left\"\n\t\t\tclass=\"conversation-icon__avatar\" />\n\t\t<div v-if=\"showCall\"\n\t\t\tclass=\"overlap-icon\">\n\t\t\t<VideoIcon :size=\"20\"\n\t\t\t\t:fill-color=\"'#E9322D'\" />\n\t\t\t<span class=\"hidden-visually\">{{ t('spreed', 'Call in progress') }}</span>\n\t\t</div>\n\t\t<div v-else-if=\"showFavorite\"\n\t\t\tclass=\"overlap-icon\">\n\t\t\t<Star :size=\"20\"\n\t\t\t\t:fill-color=\"'#FFCC00'\" />\n\t\t\t<span class=\"hidden-visually\">{{ t('spreed', 'Favorite') }}</span>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Star from 'vue-material-design-icons/Star.vue'\nimport VideoIcon from 'vue-material-design-icons/Video.vue'\n\nimport { getCapabilities } from '@nextcloud/capabilities'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nimport NcAvatar from '@nextcloud/vue/dist/Components/NcAvatar.js'\n\nimport { CONVERSATION } from '../constants.js'\nimport { isDarkTheme } from '../utils/isDarkTheme.js'\n\nconst supportsAvatar = getCapabilities()?.spreed?.features?.includes('avatar')\n\nexport default {\n\tname: 'ConversationIcon',\n\n\tcomponents: {\n\t\tNcAvatar,\n\t\tStar,\n\t\tVideoIcon,\n\t},\n\n\tprops: {\n\t\t/**\n\t\t * Allow to hide the favorite icon, e.g. on mentions\n\t\t */\n\t\thideFavorite: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\n\t\thideCall: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\n\t\tdisableMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\tshowUserStatus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {\n\t\t\t\t\tobjectType: '',\n\t\t\t\t\ttype: 0,\n\t\t\t\t\tdisplayName: '',\n\t\t\t\t\tisFavorite: false,\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Reduces the opacity of the icon if true\n\t\t */\n\t\toffline: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\n\t\t/**\n\t\t * Passing in true will make this component fill all the available space in its container.\n\t\t * This is not reactive as it will take the size of the container once mounted.\n\t\t */\n\t\tisBig: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tparentElement: undefined,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowCall() {\n\t\t\treturn !this.hideCall && this.item.hasCall\n\t\t},\n\n\t\tshowFavorite() {\n\t\t\treturn !this.hideFavorite && this.item.isFavorite\n\t\t},\n\n\t\tpreloadedUserStatus() {\n\t\t\tif (this.showUserStatus && Object.prototype.hasOwnProperty.call(this.item, 'statusMessage')) {\n\t\t\t\t// We preloaded the status\n\t\t\t\treturn {\n\t\t\t\t\tstatus: this.item.status || null,\n\t\t\t\t\tmessage: this.item.statusMessage || null,\n\t\t\t\t\ticon: this.item.statusIcon || null,\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined\n\t\t},\n\n\t\tmenuContainer() {\n\t\t\t// The store may not be defined in the RoomSelector if used from\n\t\t\t// the Collaboration menu outside Talk.\n\t\t\treturn this.$store?.getters.getMainContainerSelector()\n\t\t},\n\n\t\ticonClass() {\n\t\t\tif (this.item.isDummyConversation) {\n\t\t\t\t// Prevent a 404 when trying to load an avatar before the conversation data is actually loaded\n\t\t\t\treturn 'icon-contacts'\n\t\t\t}\n\n\t\t\tif (!supportsAvatar) {\n\t\t\t\tif (this.item.objectType === 'file') {\n\t\t\t\t\treturn 'icon-file'\n\t\t\t\t} else if (this.item.objectType === 'share:password') {\n\t\t\t\t\treturn 'icon-password'\n\t\t\t\t} else if (this.item.objectType === 'emails') {\n\t\t\t\t\treturn 'icon-mail'\n\t\t\t\t} else if (this.item.type === CONVERSATION.TYPE.CHANGELOG) {\n\t\t\t\t\treturn 'icon-changelog'\n\t\t\t\t} else if (this.item.type === CONVERSATION.TYPE.ONE_TO_ONE_FORMER) {\n\t\t\t\t\treturn 'icon-user'\n\t\t\t\t} else if (this.item.type === CONVERSATION.TYPE.GROUP) {\n\t\t\t\t\treturn 'icon-contacts'\n\t\t\t\t} else if (this.item.type === CONVERSATION.TYPE.PUBLIC) {\n\t\t\t\t\treturn 'icon-public'\n\t\t\t\t}\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tif (this.item.token) {\n\t\t\t\t// Existing conversations use the /avatar endpoint… Always!\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tif (this.item.type === CONVERSATION.TYPE.GROUP) {\n\t\t\t\t// Group icon for group conversation suggestions\n\t\t\t\treturn 'icon-contacts'\n\t\t\t}\n\n\t\t\tif (this.item.type === CONVERSATION.TYPE.PUBLIC) {\n\t\t\t\t// Public icon for new conversation dialog\n\t\t\t\treturn 'icon-public'\n\t\t\t}\n\n\t\t\t// Fall-through for other conversation suggestions to user-avatar handling\n\t\t\treturn undefined\n\t\t},\n\n\t\tsize() {\n\t\t\tif (this.isBig && this.parentElement) {\n\t\t\t\treturn Math.min(this.parentElement.clientHeight, this.parentElement.clientWidth)\n\t\t\t} else {\n\t\t\t\treturn 44\n\t\t\t}\n\t\t},\n\n\t\tisOneToOne() {\n\t\t\treturn this.item.type === CONVERSATION.TYPE.ONE_TO_ONE\n\t\t},\n\n\t\tavatarUrl() {\n\t\t\tif (!supportsAvatar) {\n\t\t\t\treturn undefined\n\t\t\t}\n\n\t\t\tconst avatarEndpoint = 'apps/spreed/api/v1/room/{token}/avatar' + (isDarkTheme ? '/dark' : '')\n\n\t\t\treturn generateOcsUrl(avatarEndpoint + '?v={avatarVersion}', {\n\t\t\t\ttoken: this.item.token,\n\t\t\t\tavatarVersion: this.item.avatarVersion,\n\t\t\t})\n\t\t},\n\t},\n\n\tmounted() {\n\t\t// Get the size of the parent once the component is mounted\n\t\tthis.parentElement = this.$refs['conversation-icon'].parentElement\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$icon-size: var(--icon-size, 44px);\n\n.conversation-icon {\n\twidth: $icon-size;\n\theight: $icon-size;\n\tposition: relative;\n\n\t.avatar.icon {\n\t\twidth: $icon-size;\n\t\theight: $icon-size;\n\t\tline-height: $icon-size;\n\t\tbackground-size: calc($icon-size / 2);\n\t\tbackground-color: var(--color-background-darker);\n\n\t\t&.icon-changelog {\n\t\t\tbackground-size: cover !important;\n\t\t}\n\t}\n\n\t.overlap-icon {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: calc(#{$icon-size} - 12px);\n\t\tline-height: 100%;\n\t\tdisplay: inline-block;\n\t\tvertical-align: middle;\n\t}\n}\n\n.offline {\n\topacity: .4;\n}\n\n</style>\n","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<NcModal size=\"normal\"\n\t\t:container=\"container\"\n\t\t@close=\"close\">\n\t\t<div id=\"modal-inner\" class=\"talk-modal\" :class=\"{ 'icon-loading': loading }\">\n\t\t\t<div id=\"modal-content\">\n\t\t\t\t<h2>\n\t\t\t\t\t{{ dialogTitle }}\n\t\t\t\t</h2>\n\t\t\t\t<p v-if=\"dialogSubtitle\" class=\"subtitle\">\n\t\t\t\t\t{{ dialogSubtitle }}\n\t\t\t\t</p>\n\t\t\t\t<NcTextField :value.sync=\"searchText\"\n\t\t\t\t\ttrailing-button-icon=\"close\"\n\t\t\t\t\tclass=\"search-form\"\n\t\t\t\t\t:label=\"t('spreed', 'Search conversations or users')\"\n\t\t\t\t\t:show-trailing-button=\"searchText !==''\"\n\t\t\t\t\t@trailing-button-click=\"clearText\">\n\t\t\t\t\t<Magnify :size=\"16\" />\n\t\t\t\t</NcTextField>\n\t\t\t\t<div id=\"room-list\">\n\t\t\t\t\t<ul v-if=\"!loading && availableRooms.length > 0\">\n\t\t\t\t\t\t<li v-for=\"room in availableRooms\"\n\t\t\t\t\t\t\t:key=\"room.token\"\n\t\t\t\t\t\t\t:class=\"{selected: selectedRoom === room.token }\"\n\t\t\t\t\t\t\t@click=\"selectedRoom=room.token\">\n\t\t\t\t\t\t\t<ConversationIcon :item=\"room\"\n\t\t\t\t\t\t\t\t:hide-call=\"true\"\n\t\t\t\t\t\t\t\t:hide-favorite=\"false\"\n\t\t\t\t\t\t\t\t:disable-menu=\"true\" />\n\t\t\t\t\t\t\t<span>{{ room.displayName }}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div v-else-if=\"!loading\">\n\t\t\t\t\t\t{{ t('spreed', 'No conversations found') }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"modal-buttons\">\n\t\t\t\t\t<NcButton v-if=\"!loading && availableRooms.length > 0\"\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t:disabled=\"!selectedRoom\"\n\t\t\t\t\t\t@click=\"select\">\n\t\t\t\t\t\t{{ t('spreed', 'Select conversation') }}\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</NcModal>\n</template>\n\n<script>\nimport Magnify from 'vue-material-design-icons/Magnify.vue'\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js'\nimport NcModal from '@nextcloud/vue/dist/Components/NcModal.js'\nimport NcTextField from '@nextcloud/vue/dist/Components/NcTextField.js'\n\nimport ConversationIcon from '../components/ConversationIcon.vue'\n\nimport { CONVERSATION } from '../constants.js'\n\nexport default {\n\tname: 'RoomSelector',\n\tcomponents: {\n\t\tConversationIcon,\n\t\tNcModal,\n\t\tNcButton,\n\t\tNcTextField,\n\t\tMagnify,\n\t},\n\tprops: {\n\t\tcontainer: {\n\t\t\ttype: String,\n\t\t\tdefault: undefined,\n\t\t},\n\n\t\tdialogTitle: {\n\t\t\ttype: String,\n\t\t\tdefault: t('spreed', 'Link to a conversation'),\n\t\t},\n\n\t\tdialogSubtitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\t/**\n\t\t * Whether to only show conversations to which\n\t\t * the user can post messages.\n\t\t */\n\t\tshowPostableOnly: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: ['close', 'select'],\n\tdata() {\n\t\treturn {\n\t\t\trooms: [],\n\t\t\tselectedRoom: null,\n\t\t\tcurrentRoom: null,\n\t\t\tsearchText: '',\n\t\t\tloading: true,\n\t\t}\n\t},\n\tcomputed: {\n\t\tavailableRooms() {\n\t\t\tconst roomsTemp = this.rooms.filter((room) => {\n\t\t\t\treturn room.type !== CONVERSATION.TYPE.CHANGELOG\n\t\t\t\t\t&& (!this.currentRoom || this.currentRoom !== room.token)\n\t\t\t\t\t&& (!this.showPostableOnly || room.readOnly === CONVERSATION.STATE.READ_WRITE)\n\t\t\t\t\t&& room.objectType !== 'file'\n\t\t\t\t\t&& room.objectType !== 'share:password'\n\t\t\t})\n\t\t\tif (!this.searchText) {\n\t\t\t\treturn roomsTemp\n\t\t\t} else {\n\t\t\t\treturn roomsTemp.filter(room => room.displayName.toLowerCase().includes(this.searchText.toLowerCase()))\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.fetchRooms()\n\t\tconst $store = OCA.Talk?.instance?.$store\n\t\tif ($store) {\n\t\t\tthis.currentRoom = $store.getters.getToken()\n\t\t}\n\t},\n\tmethods: {\n\t\tfetchRooms() {\n\t\t\taxios.get(generateOcsUrl('/apps/spreed/api/v4/room')).then((response) => {\n\t\t\t\tthis.rooms = response.data.ocs.data.sort(this.sortConversations)\n\t\t\t\tthis.loading = false\n\t\t\t})\n\t\t},\n\t\tsortConversations(conversation1, conversation2) {\n\t\t\tif (conversation1.isFavorite !== conversation2.isFavorite) {\n\t\t\t\treturn conversation1.isFavorite ? -1 : 1\n\t\t\t}\n\n\t\t\treturn conversation2.lastActivity - conversation1.lastActivity\n\t\t},\n\n\t\tclearText() {\n\t\t\tthis.searchText = ''\n\t\t},\n\n\t\tclose() {\n\t\t\t// FIXME: should not emit on $root but on itself\n\t\t\tthis.$root.$emit('close')\n\t\t\tthis.$emit('close')\n\t\t},\n\t\tselect() {\n\t\t\tthis.$root.$emit('select', this.selectedRoom)\n\t\t\tthis.$emit('select', this.selectedRoom)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n:deep(.modal-container) {\n\theight: 700px;\n}\n\n.talk-modal {\n\theight: 80vh;\n}\n\n#modal-inner {\n\twidth: 100%;\n\tpadding: 16px;\n\tmargin: 0 auto;\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100%;\n\tbox-sizing: border-box;\n\th2 {\n\t\tmargin-bottom: 4px;\n\t}\n}\n\n#modal-content {\n\tposition: absolute;\n\twidth: calc(100% - 40px);\n\theight: calc(100% - 40px);\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n#room-list {\n\toverflow-y: auto;\n\tflex: 0 1 auto;\n\theight: 100%;\n}\n\nli {\n\tpadding: 6px;\n\tborder: 1px solid transparent;\n\tdisplay: flex;\n\n\t&:hover,\n\t&:focus {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius-pill);\n\t}\n\n\t&.selected {\n\t\tbackground-color: var(--color-primary-element-light);\n\t\tborder-radius: var(--border-radius-pill);\n\t}\n\n\t& > span {\n\t\tpadding: 5px 5px 5px 10px;\n\t\tvertical-align: middle;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t}\n}\n\n#modal-buttons {\n\toverflow: hidden;\n\tflex-shrink: 0;\n\tmargin-left: auto;\n}\n\n.subtitle {\n\tcolor: var(--color-text-maxcontrast);\n\tmargin-bottom: 8px;\n}\n\n.search-form {\n\tmargin-bottom: 10px;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"conversation-icon\",staticClass:\"conversation-icon\",class:{'offline': _vm.offline},style:({'--icon-size': `${_vm.size}px`})},[(_vm.iconClass)?_c('div',{staticClass:\"avatar icon\",class:_vm.iconClass}):(!_vm.isOneToOne)?_c('NcAvatar',{attrs:{\"url\":_vm.avatarUrl,\"size\":_vm.size}}):_c('NcAvatar',{staticClass:\"conversation-icon__avatar\",attrs:{\"size\":_vm.size,\"user\":_vm.item.name,\"disable-menu\":_vm.disableMenu,\"display-name\":_vm.item.displayName,\"preloaded-user-status\":_vm.preloadedUserStatus,\"show-user-status\":_vm.showUserStatus,\"show-user-status-compact\":_vm.disableMenu,\"menu-container\":_vm.menuContainer,\"menu-position\":\"left\"}}),_vm._v(\" \"),(_vm.showCall)?_c('div',{staticClass:\"overlap-icon\"},[_c('VideoIcon',{attrs:{\"size\":20,\"fill-color\":'#E9322D'}}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-visually\"},[_vm._v(_vm._s(_vm.t('spreed', 'Call in progress')))])],1):(_vm.showFavorite)?_c('div',{staticClass:\"overlap-icon\"},[_c('Star',{attrs:{\"size\":20,\"fill-color\":'#FFCC00'}}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-visually\"},[_vm._v(_vm._s(_vm.t('spreed', 'Favorite')))])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcModal',{attrs:{\"size\":\"normal\",\"container\":_vm.container},on:{\"close\":_vm.close}},[_c('div',{staticClass:\"talk-modal\",class:{ 'icon-loading': _vm.loading },attrs:{\"id\":\"modal-inner\"}},[_c('div',{attrs:{\"id\":\"modal-content\"}},[_c('h2',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.dialogTitle)+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.dialogSubtitle)?_c('p',{staticClass:\"subtitle\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.dialogSubtitle)+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcTextField',{staticClass:\"search-form\",attrs:{\"value\":_vm.searchText,\"trailing-button-icon\":\"close\",\"label\":_vm.t('spreed', 'Search conversations or users'),\"show-trailing-button\":_vm.searchText !==''},on:{\"update:value\":function($event){_vm.searchText=$event},\"trailing-button-click\":_vm.clearText}},[_c('Magnify',{attrs:{\"size\":16}})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"room-list\"}},[(!_vm.loading && _vm.availableRooms.length > 0)?_c('ul',_vm._l((_vm.availableRooms),function(room){return _c('li',{key:room.token,class:{selected: _vm.selectedRoom === room.token },on:{\"click\":function($event){_vm.selectedRoom=room.token}}},[_c('ConversationIcon',{attrs:{\"item\":room,\"hide-call\":true,\"hide-favorite\":false,\"disable-menu\":true}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(room.displayName))])],1)}),0):(!_vm.loading)?_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('spreed', 'No conversations found'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"modal-buttons\"}},[(!_vm.loading && _vm.availableRooms.length > 0)?_c('NcButton',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.selectedRoom},on:{\"click\":_vm.select}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('spreed', 'Select conversation'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2019 Joas Schilling <coding@schilljs.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\nexport const SIGNALING = {\n\tMODE: {\n\t\tINTERNAL: 'internal',\n\t\tEXTERNAL: 'external',\n\t\tCLUSTER_CONVERSATION: 'conversation_cluster',\n\t},\n}\nexport const CHAT = {\n\tFETCH_LIMIT: 100,\n\tMINIMUM_VISIBLE: 5,\n}\n\nexport const CALL = {\n\tRECORDING: {\n\t\tOFF: 0,\n\t\tVIDEO: 1,\n\t\tAUDIO: 2,\n\t\tVIDEO_STARTING: 3,\n\t\tAUDIO_STARTING: 4,\n\t\tFAILED: 5,\n\t},\n}\n\nexport const CONVERSATION = {\n\tSTART_CALL: {\n\t\tEVERYONE: 0,\n\t\tUSERS: 1,\n\t\tMODERATORS: 2,\n\t},\n\n\tSTATE: {\n\t\tREAD_WRITE: 0,\n\t\tREAD_ONLY: 1,\n\t},\n\n\tLISTABLE: {\n\t\tNONE: 0,\n\t\tUSERS: 1,\n\t\tALL: 2,\n\t},\n\n\tTYPE: {\n\t\tONE_TO_ONE: 1,\n\t\tGROUP: 2,\n\t\tPUBLIC: 3,\n\t\tCHANGELOG: 4,\n\t\tONE_TO_ONE_FORMER: 5,\n\t},\n\n\tBREAKOUT_ROOM_MODE: {\n\t\tNOT_CONFIGURED: 0,\n\t\tAUTOMATIC: 1,\n\t\tMANUAL: 2,\n\t\tFREE: 3,\n\t},\n\n\tBREAKOUT_ROOM_STATUS: {\n\t\t// Main room\n\t\tSTOPPED: 0,\n\t\tSTARTED: 1,\n\t\t// Breakout rooms\n\t\tSTATUS_ASSISTANCE_RESET: 0,\n\t\tSTATUS_ASSISTANCE_REQUESTED: 2,\n\t},\n}\nexport const ATTENDEE = {\n\tACTOR_TYPE: {\n\t\tUSERS: 'users',\n\t\tGUESTS: 'guests',\n\t\tEMAILS: 'emails',\n\t\tGROUPS: 'groups',\n\t\tCIRCLES: 'circles',\n\t\tBOTS: 'bots',\n\t\tBRIDGED: 'bridged',\n\t},\n\n\tBRIDGE_BOT_ID: 'bridge-bot',\n\n\tCHANGELOG_BOT_ID: 'changelog',\n}\nexport const PARTICIPANT = {\n\tCALL_FLAG: {\n\t\tDISCONNECTED: 0,\n\t\tIN_CALL: 1,\n\t\tWITH_AUDIO: 2,\n\t\tWITH_VIDEO: 4,\n\t\tWITH_PHONE: 8,\n\t},\n\n\tSIP_FLAG: {\n\t\tMUTE_MICROPHONE: 1,\n\t\tMUTE_SPEAKER: 2,\n\t\tSPEAKING: 4,\n\t\tRAISE_HAND: 8,\n\t},\n\n\tNOTIFY: {\n\t\tDEFAULT: 0,\n\t\tALWAYS: 1,\n\t\tMENTION: 2,\n\t\tNEVER: 3,\n\t},\n\n\tNOTIFY_CALLS: {\n\t\tOFF: 0,\n\t\tON: 1,\n\t},\n\n\tTYPE: {\n\t\tOWNER: 1,\n\t\tMODERATOR: 2,\n\t\tUSER: 3,\n\t\tGUEST: 4,\n\t\tUSER_SELF_JOINED: 5,\n\t\tGUEST_MODERATOR: 6,\n\t},\n\n\tPERMISSIONS: {\n\t\tDEFAULT: 0,\n\t\tCUSTOM: 1,\n\t\tCALL_START: 2,\n\t\tCALL_JOIN: 4,\n\t\tLOBBY_IGNORE: 8,\n\t\tPUBLISH_AUDIO: 16,\n\t\tPUBLISH_VIDEO: 32,\n\t\tPUBLISH_SCREEN: 64,\n\t\tCHAT: 128,\n\t\tMAX_DEFAULT: 254,\n\t\tMAX_CUSTOM: 255,\n\t},\n}\n\nexport const SHARED_ITEM = {\n\tTYPES: {\n\t\tAUDIO: 'audio',\n\t\tDECK_CARD: 'deckcard',\n\t\tFILE: 'file',\n\t\tLOCATION: 'location',\n\t\tMEDIA: 'media',\n\t\tOTHER: 'other',\n\t\tPOLL: 'poll',\n\t\tRECORDING: 'recording',\n\t\tVOICE: 'voice',\n\t},\n}\n\nexport const WEBINAR = {\n\tLOBBY: {\n\t\tNONE: 0,\n\t\tNON_MODERATORS: 1,\n\t},\n\n\tSIP: {\n\t\tDISABLED: 0,\n\t\tENABLED: 1,\n\t\tENABLED_NO_PIN: 2,\n\t},\n}\n\nexport const SHARE = {\n\tTYPE: {\n\t\tUSER: 0,\n\t\tGROUP: 1,\n\t\tEMAIL: 4,\n\t\tREMOTE: 6,\n\t\tCIRCLE: 7,\n\t},\n}\n\nexport const FLOW = {\n\tMESSAGE_MODES: {\n\t\tNO_MENTION: 1,\n\t\tSELF_MENTION: 2,\n\t\tROOM_MENTION: 3,\n\t},\n}\n\nexport const PRIVACY = {\n\tPUBLIC: 0,\n\tPRIVATE: 1,\n}\n\nexport const SIMULCAST = {\n\tLOW: 0,\n\tMEDIUM: 1,\n\tHIGH: 2,\n}\n\nexport const VIRTUAL_BACKGROUND = {\n\tBACKGROUND_TYPE: {\n\t\tBLUR: 'blur',\n\t\tIMAGE: 'image',\n\t\tVIDEO: 'video',\n\t\tVIDEO_STREAM: 'video-stream',\n\t},\n\tBLUR_STRENGTH: {\n\t\tDEFAULT: 10,\n\t},\n}\n","/*\n * @copyright Copyright (c) 2023 Grigorii Shartsev <me@shgk.me>\n *\n * @author Grigorii Shartsev <me@shgk.me>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Check if dark theme is used\n *\n * @return {boolean}\n */\nfunction checkIfDarkTheme() {\n\t// Nextcloud uses --background-invert-if-dark for dark theme filters in CSS\n\t// Values:\n\t// - 'invert(100%)' for dark theme\n\t// - 'no' for light theme\n\treturn window.getComputedStyle(document.body).getPropertyValue('--background-invert-if-dark') === 'invert(100%)'\n}\n\n/**\n * Is Dark Theme enabled\n * We do not support dark/light theme update without reload the page, so the value can be computed once\n *\n * @type {boolean}\n */\nexport const isDarkTheme = checkIfDarkTheme()\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".conversation-icon[data-v-8a130df0]{width:var(--icon-size, 44px);height:var(--icon-size, 44px);position:relative}.conversation-icon .avatar.icon[data-v-8a130df0]{width:var(--icon-size, 44px);height:var(--icon-size, 44px);line-height:var(--icon-size, 44px);background-size:calc(var(--icon-size, 44px)/2);background-color:var(--color-background-darker)}.conversation-icon .avatar.icon.icon-changelog[data-v-8a130df0]{background-size:cover !important}.conversation-icon .overlap-icon[data-v-8a130df0]{position:absolute;top:0;left:calc(var(--icon-size, 44px) - 12px);line-height:100%;display:inline-block;vertical-align:middle}.offline[data-v-8a130df0]{opacity:.4}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ConversationIcon.vue\"],\"names\":[],\"mappings\":\"AAGA,oCACC,4BAHW,CAIX,6BAJW,CAKX,iBAAA,CAEA,iDACC,4BARU,CASV,6BATU,CAUV,kCAVU,CAWV,8CAAA,CACA,+CAAA,CAEA,gEACC,gCAAA,CAIF,kDACC,iBAAA,CACA,KAAA,CACA,wCAAA,CACA,gBAAA,CACA,oBAAA,CACA,qBAAA,CAIF,0BACC,UAAA\",\"sourcesContent\":[\"\\n$icon-size: var(--icon-size, 44px);\\n\\n.conversation-icon {\\n\\twidth: $icon-size;\\n\\theight: $icon-size;\\n\\tposition: relative;\\n\\n\\t.avatar.icon {\\n\\t\\twidth: $icon-size;\\n\\t\\theight: $icon-size;\\n\\t\\tline-height: $icon-size;\\n\\t\\tbackground-size: calc($icon-size / 2);\\n\\t\\tbackground-color: var(--color-background-darker);\\n\\n\\t\\t&.icon-changelog {\\n\\t\\t\\tbackground-size: cover !important;\\n\\t\\t}\\n\\t}\\n\\n\\t.overlap-icon {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tleft: calc(#{$icon-size} - 12px);\\n\\t\\tline-height: 100%;\\n\\t\\tdisplay: inline-block;\\n\\t\\tvertical-align: middle;\\n\\t}\\n}\\n\\n.offline {\\n\\topacity: .4;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-7fef084f] .modal-container{height:700px}.talk-modal[data-v-7fef084f]{height:80vh}#modal-inner[data-v-7fef084f]{width:100%;padding:16px;margin:0 auto;position:relative;display:flex;align-items:center;justify-content:center;height:100%;box-sizing:border-box}#modal-inner h2[data-v-7fef084f]{margin-bottom:4px}#modal-content[data-v-7fef084f]{position:absolute;width:calc(100% - 40px);height:calc(100% - 40px);display:flex;flex-direction:column}#room-list[data-v-7fef084f]{overflow-y:auto;flex:0 1 auto;height:100%}li[data-v-7fef084f]{padding:6px;border:1px solid rgba(0,0,0,0);display:flex}li[data-v-7fef084f]:hover,li[data-v-7fef084f]:focus{background-color:var(--color-background-dark);border-radius:var(--border-radius-pill)}li.selected[data-v-7fef084f]{background-color:var(--color-primary-element-light);border-radius:var(--border-radius-pill)}li>span[data-v-7fef084f]{padding:5px 5px 5px 10px;vertical-align:middle;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#modal-buttons[data-v-7fef084f]{overflow:hidden;flex-shrink:0;margin-left:auto}.subtitle[data-v-7fef084f]{color:var(--color-text-maxcontrast);margin-bottom:8px}.search-form[data-v-7fef084f]{margin-bottom:10px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/RoomSelector.vue\"],\"names\":[],\"mappings\":\"AAEA,mCACC,YAAA,CAGD,6BACC,WAAA,CAGD,8BACC,UAAA,CACA,YAAA,CACA,aAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,qBAAA,CACA,iCACC,iBAAA,CAIF,gCACC,iBAAA,CACA,uBAAA,CACA,wBAAA,CACA,YAAA,CACA,qBAAA,CAGD,4BACC,eAAA,CACA,aAAA,CACA,WAAA,CAGD,oBACC,WAAA,CACA,8BAAA,CACA,YAAA,CAEA,oDAEC,6CAAA,CACA,uCAAA,CAGD,6BACC,mDAAA,CACA,uCAAA,CAGD,yBACC,wBAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CAIF,gCACC,eAAA,CACA,aAAA,CACA,gBAAA,CAGD,2BACC,mCAAA,CACA,iBAAA,CAGD,8BACC,kBAAA\",\"sourcesContent\":[\"\\n\\n:deep(.modal-container) {\\n\\theight: 700px;\\n}\\n\\n.talk-modal {\\n\\theight: 80vh;\\n}\\n\\n#modal-inner {\\n\\twidth: 100%;\\n\\tpadding: 16px;\\n\\tmargin: 0 auto;\\n\\tposition: relative;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\th2 {\\n\\t\\tmargin-bottom: 4px;\\n\\t}\\n}\\n\\n#modal-content {\\n\\tposition: absolute;\\n\\twidth: calc(100% - 40px);\\n\\theight: calc(100% - 40px);\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n}\\n\\n#room-list {\\n\\toverflow-y: auto;\\n\\tflex: 0 1 auto;\\n\\theight: 100%;\\n}\\n\\nli {\\n\\tpadding: 6px;\\n\\tborder: 1px solid transparent;\\n\\tdisplay: flex;\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t\\tborder-radius: var(--border-radius-pill);\\n\\t}\\n\\n\\t&.selected {\\n\\t\\tbackground-color: var(--color-primary-element-light);\\n\\t\\tborder-radius: var(--border-radius-pill);\\n\\t}\\n\\n\\t& > span {\\n\\t\\tpadding: 5px 5px 5px 10px;\\n\\t\\tvertical-align: middle;\\n\\t\\ttext-overflow: ellipsis;\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t}\\n}\\n\\n#modal-buttons {\\n\\toverflow: hidden;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n}\\n\\n.subtitle {\\n\\tcolor: var(--color-text-maxcontrast);\\n\\tmargin-bottom: 8px;\\n}\\n\\n.search-form {\\n\\tmargin-bottom: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationIcon.vue?vue&type=style&index=0&id=8a130df0&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationIcon.vue?vue&type=style&index=0&id=8a130df0&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomSelector.vue?vue&type=style&index=0&id=7fef084f&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomSelector.vue?vue&type=style&index=0&id=7fef084f&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ConversationIcon.vue?vue&type=template&id=8a130df0&scoped=true&\"\nimport script from \"./ConversationIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ConversationIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConversationIcon.vue?vue&type=style&index=0&id=8a130df0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a130df0\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./RoomSelector.vue?vue&type=template&id=7fef084f&scoped=true&\"\nimport script from \"./RoomSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomSelector.vue?vue&type=style&index=0&id=7fef084f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fef084f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationIcon.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomSelector.vue?vue&type=script&lang=js&\""],"names":["supportsAvatar","_getCapabilities","getCapabilities","_getCapabilities$spre","spreed","_getCapabilities$spre2","features","includes","name","components","NcAvatar","Star","VideoIcon","props","hideFavorite","type","Boolean","default","hideCall","disableMenu","showUserStatus","item","Object","objectType","displayName","isFavorite","offline","isBig","data","parentElement","undefined","computed","showCall","hasCall","showFavorite","preloadedUserStatus","prototype","hasOwnProperty","call","status","message","statusMessage","icon","statusIcon","menuContainer","_this$$store","$store","getters","getMainContainerSelector","iconClass","isDummyConversation","token","CONVERSATION","size","Math","min","clientHeight","clientWidth","isOneToOne","avatarUrl","avatarEndpoint","isDarkTheme","generateOcsUrl","avatarVersion","mounted","$refs","ConversationIcon","NcModal","NcButton","NcTextField","Magnify","container","String","dialogTitle","t","dialogSubtitle","showPostableOnly","emits","rooms","selectedRoom","currentRoom","searchText","loading","availableRooms","_this","roomsTemp","filter","room","readOnly","toLowerCase","beforeMount","_OCA$Talk","_OCA$Talk$instance","fetchRooms","OCA","Talk","instance","getToken","methods","_this2","axios","then","response","ocs","sort","sortConversations","conversation1","conversation2","lastActivity","clearText","close","$root","$emit","select","render","_vm","this","_c","_self","ref","staticClass","class","style","concat","attrs","_v","_s","_e","staticRenderFns","on","$event","length","_l","key","selected","START_CALL","EVERYONE","USERS","MODERATORS","STATE","READ_WRITE","READ_ONLY","LISTABLE","NONE","ALL","TYPE","ONE_TO_ONE","GROUP","PUBLIC","CHANGELOG","ONE_TO_ONE_FORMER","BREAKOUT_ROOM_MODE","NOT_CONFIGURED","AUTOMATIC","MANUAL","FREE","BREAKOUT_ROOM_STATUS","STOPPED","STARTED","STATUS_ASSISTANCE_RESET","STATUS_ASSISTANCE_REQUESTED","window","getComputedStyle","document","body","getPropertyValue","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}